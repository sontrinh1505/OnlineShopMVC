@using PagedList.Mvc

@model  PagedList.IPagedList<OnlineShopMVC.DTO.UserViewModel>
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}




<div class="col-md-12 col-sm-12 col-xs-12">
    <div class="x_panel">
        <div class="x_title">
            <h2>Block Users</h2>
            <ul class="nav navbar-right panel_toolbox">
                <li>
                    <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                    <ul class="dropdown-menu" role="menu">
                        <li>
                            <a href="#">Settings 1</a>
                        </li>
                        <li>
                            <a href="#">Settings 2</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a class="close-link"><i class="fa fa-close"></i></a>
                </li>
            </ul>
            <div class="clearfix"></div>
        </div>
        <div class="x_content">

            <table id="datatable" class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>User Name</th>
                        @*<th>PassWord</th>*@
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Address</th>
                        <th>Created Date</th>
                        <th>Modified Date</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>


                <tbody>
                    @{
                        if (Model != null)
                        {

                            foreach (var item in Model)
                            {
                                <tr>
                                    <td>@item.UserName</td>
                                    @*<td>@item.PassWord</td>*@
                                    <td>@item.Name</td>
                                    <td>@item.Email</td>
                                    <td>@item.Phone</td>
                                    <td>@item.Address</td>
                                    <td>
                                        @{
                                            string createdDate = "";
                                            if (item.CreatedDate != null)
                                            {
                                                createdDate = @item.CreatedDate.Value.ToString("dd/MM/yyyy");
                                            }
                                        }
                                        @createdDate

                                    <td>
                                        @{
                                            string modifiedDate = "";
                                            if (item.ModifiedDate != null)
                                            {
                                                modifiedDate = @item.ModifiedDate.Value.ToString("dd/MM/yyyy");
                                            }
                                        }
                                        @modifiedDate
                                    </td>

                                    @{

                                        string status = "Blocked";
                                        if (item.Status)
                                        {
                                            status = "Active";
                                        }
                                    }
                                    <td>@status</td>
                                    @*<td>@Html.ActionLink("Unlock", "UnlockUser", "User", new { @id = @item.ID }, new { @class = "unlock" })</td>*@

                                    <td> @Html.ActionLink("Edit", "Edit", "User", new { @id = @item.ID }, new { @class = "edit" }) @Ajax.ActionLink("Delete", "Delete", new { @id = item.ID }, new AjaxOptions { Confirm = "Do you want delete this user?", HttpMethod = "Delete", OnComplete = "$('#item_" + @item.ID + "').remove()" }, new { @class = "delete" })</td>
                                </tr>
                                            }

                                        }
                    }

                </tbody>
            </table>

        </div>
        @Html.PagedListPager(Model, page => Url.Action("BlockList", new { page = page, @pageSize = 10 }));
    </div>
</div>
